<!DOCTYPE html>
<html>
<body>

Money: <text id="money">10</text>
<br>
Health:
<progress id="health" value="50" max="100"/>

<script>
class DecisionChoice {
  constructor(text, time, moneySpent, healthChange) {
	this.text = text;
	this.time = time;
	this.moneySpent = moneySpent;
	this.healthChange = healthChange;
  }
}

class Decision {
  constructor(question) {
	this.question = question;
	this.choiceArray = [];
  }

  addChoice(text, time, moneySpent, healthChange) {
	this.choiceArray.push(new DecisionChoice(text, time, moneySpent, healthChange));
  }
	
  makeChoice() {
	  var arrayLength = this.choiceArray.length;
	  var choiceDiv = document.createElement('div');
	  choiceDiv.id = "choice";
	  document.body.appendChild(choiceDiv);
	  for (var i = 0; i < arrayLength; i++) {
		var elem = this.choiceArray[i];	
		if(parseInt(document.getElementById('money').innerHTML) >= elem.moneySpent){
			var inputElement = document.createElement('button');
			inputElement.id = i;
			inputElement.innerHTML = elem.text;
			choiceDiv.appendChild(inputElement);
		}
	  }
	  choiceDiv.innerHTML += "<br>" + this.question;
	  
	  for (var i = 0; i <arrayLength; i++) {
	    if(document.getElementById(i)){
			var elem = this.choiceArray[i];	
			document.getElementById(i).setAttribute("onClick", 'choiceMade(' + elem.time + ',' + elem.moneySpent + ',' + elem.healthChange + ')');
		}
	  }
  }
}

function choiceMade(time, money, health){
	document.getElementById('money').innerHTML -= money;
	document.getElementById('health').value += health;
	document.getElementById("choice").parentNode.removeChild(document.getElementById("choice"));
	
};


var test = new Decision("what food to pick?");
test.addChoice("burger", 0, 10, -100);
test.addChoice("salad", 0, 5, 5);
test.addChoice("nothing", 0, 0, -5);

test.makeChoice();

</script>

</body>
</html>